<!DOCTYPE html>
<html lang="<%= I18n.locale %>">
  <head>
    <meta charset="utf-8">
    <meta name="ROBOTS" content="NOODP">
    <meta name="viewport" content="initial-scale=1">
    <title>
      <% if content_for? :title %>
        <%= yield(:title) %> -
      <% end %>
      Administration - Password Pusher
    </title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag if defined?(csp_meta_tag) %>
    <%= tag.meta name: 'turbo-drive-enabled', content: ENV.key?('TURBO_DRIVE_ENABLED') ? ENV['TURBO_DRIVE_ENABLED'].to_s.downcase : true %>
    <%= render "admin/javascript" %>
  </head>
  <body class="bg-light">
    <div class="min-vh-100 d-flex">
      <!-- Sidebar -->
      <aside class="bg-white shadow border-end" style="width: 280px; min-width: 280px;">
        <%= render "admin/navigation" %>
      </aside>

      <!-- Main Content -->
      <main class="flex-grow-1 d-flex flex-column">
        <!-- Top Navigation Bar -->
        <header class="bg-white border-bottom px-4 py-3">
          <div class="d-flex align-items-center justify-content-between">
            <!-- Breadcrumbs -->
            <nav class="d-flex" aria-label="Breadcrumb">
              <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item">
                  <%= link_to admin_root_path, class: "d-flex align-items-center text-decoration-none text-muted" do %>
                    <svg class="me-2" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                    </svg>
                    Administration
                  <% end %>
                </li>
                <% if content_for? :breadcrumbs %>
                  <%= yield :breadcrumbs %>
                <% end %>
              </ol>
            </nav>

            <!-- Admin Actions -->
            <div class="d-flex align-items-center gap-3">
              <!-- System Status -->
              <div class="d-flex align-items-center px-3 py-1 rounded-pill text-sm fw-medium bg-success bg-opacity-10 text-success">
                <div class="rounded-circle bg-success me-2" style="width: 8px; height: 8px;"></div>
                System Active
              </div>

              <!-- Back to App -->
              <%= link_to root_path, class: "btn btn-outline-secondary btn-sm d-flex align-items-center" do %>
                <svg class="me-2" width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                </svg>
                Back to App
              <% end %>
            </div>
          </div>
        </header>

        <!-- Page Content -->
        <div class="flex-grow-1 p-4">
          <%= render "flash" %>
          <%= yield %>
        </div>
      </main>
    </div>
  </body>
</html>
